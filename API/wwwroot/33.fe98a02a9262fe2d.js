"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[33],{3033:(Et,w,l)=>{l.r(w),l.d(w,{AdminModule:()=>h});var s=l(6895),z=l(4823),g=l(9838),t=l(1571),A=l(5085),J=l(2340),U=l(529),D=l(4004),Q=l(9646);class p{constructor(n){this.http=n,this.baseUrl=J.N.apiUrl,this.user=[]}createProduct(n){return this.http.post(this.baseUrl+"products",n)}updateProduct(n,e){return this.http.put(this.baseUrl+"products/"+e,n)}deleteProduct(n){return this.http.delete(this.baseUrl+"products/"+n)}uploadImage(n,e){const i=new FormData;return i.append("photo",n,"image.png"),this.http.put(this.baseUrl+"products/"+e+"/photo",i,{reportProgress:!0,observe:"events"})}deleteProductPhoto(n,e){return this.http.delete(this.baseUrl+"products/"+e+"/photo/"+n)}setMainPhoto(n,e){return this.http.post(this.baseUrl+"products/"+e+"/photo/"+n,{})}getTotalUsersCount(n){const e=(new U.LE).set("pageIndex","0").set("pageSize","0").set("searchTerm",n);return this.http.get(this.baseUrl+"account/all-users",{params:e}).pipe((0,D.U)(i=>i.totalCount))}getAllUsers(n=0,e=10,i=""){return this.http.get(this.baseUrl+`account/all-users?pageIndex=${n}&pageSize=${e}&searchTerm=${i}`)}getUserById(n){const e=this.user.find(i=>i.id===n);return e?(0,Q.of)(e):this.http.get(this.baseUrl+"account/edit"+n)}updateUser(n,e){return this.http.put(`${this.baseUrl}account/edit/${n}`,e)}deleteUser(n){return this.http.delete(`${this.baseUrl}account/delete/${n}`)}getOrders(){return this.http.get(this.baseUrl+"orders/all")}getAllOrders(n=0,e=10,i=""){return this.http.get(this.baseUrl+`orders/allorders?pageIndex=${n}&pageSize=${e}&searchTerm=${i}`)}getUserOrderByEmail(n){return this.http.get(this.baseUrl+"orders/email/"+n)}}p.\u0275fac=function(n){return new(n||p)(t.LFG(U.eN))},p.\u0275prov=t.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"});class C{constructor(n,e){this.shopService=n,this.adminService=e,this.shopParams=this.shopService.getShopParams()}ngOnInit(){this.getProducts()}getProducts(n=!1){this.shopService.getProducts(n).subscribe(e=>{this.products=e.data,this.totalCount=e.count},e=>{console.log(e)})}onPageChanged(n){const e=this.shopService.getShopParams();e.pageNumber!==n&&(e.pageNumber=n,this.shopService.setShopParams(e),this.getProducts(!0))}deleteProduct(n){this.adminService.deleteProduct(n).subscribe(e=>{this.products.splice(this.products.findIndex(i=>i.id===n),1),this.totalCount--})}}C.\u0275fac=function(n){return new(n||C)(t.Y36(A.d),t.Y36(p))},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-admin"]],decls:55,vars:0,consts:[[1,"wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-12","col-sm-2","d-none","d-sm-block"],["id","sidebar",1,""],[1,"sidebar-header"],[1,"list-unstyled","components"],[1,"mt-3"],["routerLink","dashboard","routerLinkActive","active"],[1,"material-icons"],["routerLink","all-orders","routerLinkActive","active"],["routerLink","products-list","routerLinkActive","active"],["routerLink","users-list","routerLinkActive","active"],[1,"col-12","col-sm-10"],["id","content"],[1,"row","justify-content-center","pt-3","pb-3"],[1,"col-12"],[1,"d-sm-none","d-flex","justify-content-center"],["type","button","routerLink","dashboard","routerLinkActive","active",1,"btn","btn-outline-primary"],["type","button","routerLink","all-orders","routerLinkActive","active",1,"btn","btn-outline-primary"],["type","button","routerLink","products-list","routerLinkActive","active",1,"btn","btn-outline-primary"],["type","button","routerLink","users-list","routerLinkActive","active",1,"btn","btn-outline-primary"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"nav",4)(5,"div",5)(6,"h3"),t._uU(7,"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"),t.qZA()(),t.TgZ(8,"ul",6)(9,"li",7)(10,"a",8)(11,"i",9),t._uU(12,"dashboard"),t.qZA(),t.TgZ(13,"span"),t._uU(14,"\u0644\u0648\u062d\u0629 \u0627\u0644\u0625\u062d\u0635\u0627\u0621\u0627\u062a"),t.qZA()()(),t.TgZ(15,"li")(16,"a",10)(17,"i",9),t._uU(18,"list_alt"),t.qZA(),t.TgZ(19,"span"),t._uU(20,"\u0627\u0644\u0637\u0644\u0628\u0627\u062a"),t.qZA()()(),t.TgZ(21,"li")(22,"a",11)(23,"i",9),t._uU(24,"store"),t.qZA(),t.TgZ(25,"span"),t._uU(26,"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"),t.qZA()()(),t.TgZ(27,"li")(28,"a",12)(29,"i",9),t._uU(30,"group_add"),t.qZA(),t.TgZ(31,"span"),t._uU(32,"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0648\u0646"),t.qZA()()()()()(),t.TgZ(33,"div",13)(34,"div",14)(35,"div",15)(36,"div",16)(37,"div",17)(38,"button",18)(39,"i",9),t._uU(40,"dashboard"),t.qZA(),t._uU(41," \u0644\u0648\u062d\u0629 \u0627\u0644\u0625\u062d\u0635\u0627\u0621\u0627\u062a "),t.qZA(),t.TgZ(42,"button",19)(43,"i",9),t._uU(44,"list_alt"),t.qZA(),t._uU(45," \u0627\u0644\u0637\u0644\u0628\u0627\u062a "),t.qZA(),t.TgZ(46,"button",20)(47,"i",9),t._uU(48,"store"),t.qZA(),t._uU(49," \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a "),t.qZA(),t.TgZ(50,"button",21)(51,"i",9),t._uU(52,"group_add"),t.qZA(),t._uU(53," \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0648\u0646 "),t.qZA()()()(),t._UZ(54,"router-outlet"),t.qZA()()()()())},dependencies:[g.lC,g.rH,g.Od],styles:['@import"https://fonts.googleapis.com/css?family=Nova+Slim&display=swap";body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.8;font-family:Roboto,sans-serif;color:#555e58;text-transform:capitalize;text-rendering:optimizeLegibility!important;-webkit-font-smoothing:antialiased!important;font-weight:400;margin:0;padding:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-weight:400;line-height:1.5em}p[_ngcontent-%COMP%]{font-size:15px;margin:12px 0 0;line-height:24px}a[_ngcontent-%COMP%]{color:#333;font-weight:400}button[_ngcontent-%COMP%]:focus{box-shadow:none;outline:none;border:none}button[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{padding:0;margin:0;list-style:none}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{color:#333;text-decoration:none;transition:all .3s}@font-face{font-family:Material Icons;font-style:normal;font-weight:400;src:local("Material Icons"),local("MaterialIcons-Regular")}.material-icons[_ngcontent-%COMP%]{font-family:Material Icons;font-weight:400;font-style:normal;font-size:24px;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}#sidebar[_ngcontent-%COMP%]{height:100vh!important;top:0;bottom:0;right:0;z-index:11;width:260px;overflow:auto;transition:all .3s;background:#FFFFFF;box-shadow:0 10px 30px -12px #0000006b,0 4px 25px #0000001f,0 8px 10px -5px #0003}#sidebar[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;border-radius:10px;background-color:#eee;display:none}#sidebar[_ngcontent-%COMP%]::-webkit-scrollbar-thumbs{width:5px;border-radius:10px;background-color:#333;display:none}#sidebar[_ngcontent-%COMP%]:hover::-webkit-scrollbar{display:block}#sidebar[_ngcontent-%COMP%]:hover::-webkit-scrollbar-thumbs{display:block}#sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:20px;background-color:#fff;border-bottom:1px solid #eee}.sidebar-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;font-size:17px;margin:0;text-transform:uppercase;transition:all .5s ease;font-weight:600}.sidebar-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:45px;margin-right:10px}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:2px 7px}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#333;background-color:#c8c8c833}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#333;background-color:#c8c8c833}.dropdown-toggle[_ngcontent-%COMP%]:after{position:absolute;right:10px;top:23px}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.drodown[_ngcontent-%COMP%]{position:sticky}#sidebar[_ngcontent-%COMP%]   ul.components[_ngcontent-%COMP%]{padding:20px 0}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px;line-height:30px;border-radius:5px;font-size:15px;position:relative;font-weight:400;display:block}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:capitalize;display:inline-block}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative;margin-right:10px;top:5px;color:#555;margin-left:10px}#content[_ngcontent-%COMP%]{transition:all .3s;background-color:#f5f5f5}.top-navbar[_ngcontent-%COMP%]{width:100%;z-index:9;position:relative}.main-content[_ngcontent-%COMP%]{padding:10px 20px 0;width:100%}.navbar[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.navbar-brand[_ngcontent-%COMP%]{color:#fff}.navbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none}.navbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}#sidebarCollapse[_ngcontent-%COMP%]{border-radius:50%;width:45px;height:45px;text-align:center;line-height:45px;margin-right:20px;border:none;color:#fff;background-color:#00000017}#sidebarCollapse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:9px;padding:0}.navbar-nav[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%]{color:#fff;border-radius:4px;background-color:#00000014}.navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff}.navbar[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px;display:block;font-size:9px;border:0px;font-size:10px;background:#d9534f;min-width:15px;text-align:center;padding:1px 5px;height:15px;border-radius:2px;line-height:14px}.navbar-nav[_ngcontent-%COMP%] > li.show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{transform:translateZ(0);opacity:1;visibility:visible}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:13px;padding:10px 20px;margin:0 5px;border-radius:2px;font-weight:400;transition:all .15s linear}.navbar-nav[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus{color:#fff;background-color:#00000014}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;display:block;padding:10px 15px!important}.card[_ngcontent-%COMP%]{margin:10px 0}.card[_ngcontent-%COMP%]{border-radius:0!important}.card[_ngcontent-%COMP%]{display:inline-block;position:relative;border:none!important;width:100%;margin:15px 0;box-shadow:0 1px 2px #00000014;border-radius:6px;color:#000000de;background:#fff}.card-stats[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{float:left;text-align:center}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:15px 20px 0;z-index:3;background-color:#fff!important;border-bottom:none}.card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{position:relative;top:4px;font-size:16px}.card-stats[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:36px;line-height:56px;width:56px;height:56px}.icon.icon-warning[_ngcontent-%COMP%]{color:#ff9800}.icon.icon-rose[_ngcontent-%COMP%]{color:#e91e63}.icon.icon-success[_ngcontent-%COMP%]{color:#4caf50}.icon.icon-info[_ngcontent-%COMP%]{color:#00bcd4}.card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{margin:0 7px;padding-top:10px;background-color:#fff;border-top:1px solid #f5f5f5}.text-info[_ngcontent-%COMP%]{color:#03a9f4!important}.card-stats[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{text-align:right;padding-top:10px}.card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{margin-bottom:0}.card[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]:not([class*=text-]){color:#555;font-size:14px;font-weight:400}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]:not(.card-calendar   .card-title)[_ngcontent-%COMP%]{margin-top:0;margin-bottom:5px}.card-stats[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin:0}.card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{line-height:22px;color:#555;font-size:15px}.card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block}.card[_ngcontent-%COMP%]   .card-header-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;margin-bottom:3px;font-size:19px;font-weight:400;color:#222;text-decoration:none}.table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{border-bottom-width:1px;font-size:16px;font-weight:400}.card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:15px 20px;position:relative}.streamline[_ngcontent-%COMP%]   .sl-primary[_ngcontent-%COMP%]{border-left-color:#188ae2}.streamline[_ngcontent-%COMP%]   .sl-item[_ngcontent-%COMP%]{position:relative;padding-bottom:12px;border-left:1px solid #ccc}.streamline[_ngcontent-%COMP%]   .sl-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-6px;top:0;background-color:#ccc;width:12px;height:12px;border-radius:100%}.streamline[_ngcontent-%COMP%]   .sl-primary[_ngcontent-%COMP%]:before, .streamline[_ngcontent-%COMP%]   .sl-primary[_ngcontent-%COMP%]:last-child:after{background-color:#188ae2}.streamline[_ngcontent-%COMP%]   .sl-danger[_ngcontent-%COMP%]:before, .streamline[_ngcontent-%COMP%]   .sl-danger[_ngcontent-%COMP%]:last-child:after{background-color:#ff5b5b}.streamline[_ngcontent-%COMP%]   .sl-success[_ngcontent-%COMP%]{border-left-color:#10c469}.streamline[_ngcontent-%COMP%]   .sl-success[_ngcontent-%COMP%]:before, .streamline[_ngcontent-%COMP%]   .sl-success[_ngcontent-%COMP%]:last-child:after{background-color:#10c469}.streamline[_ngcontent-%COMP%]   .sl-warning[_ngcontent-%COMP%]{border-left-color:#f9c851}.streamline[_ngcontent-%COMP%]   .sl-warning[_ngcontent-%COMP%]:before, .streamline[_ngcontent-%COMP%]   .sl-warning[_ngcontent-%COMP%]:last-child:after{background-color:#f9c851}.streamline[_ngcontent-%COMP%]   .sl-danger[_ngcontent-%COMP%]{border-left-color:#ff5b5b}.streamline[_ngcontent-%COMP%]   .sl-item[_ngcontent-%COMP%]   .sl-content[_ngcontent-%COMP%]{margin-left:24px}.streamline[_ngcontent-%COMP%]   .sl-item[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{color:inherit;opacity:.6;font-size:12px}.streamline[_ngcontent-%COMP%]   .sl-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#333}']});var c=l(4006);function B(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.changePage(a-1))}),t._uU(1),t.qZA()}if(2&o){const e=n.$implicit,i=t.oxw();t.ekj("active",i.pageIndex===e-1),t.xp6(1),t.hij(" ",e," ")}}class u{constructor(){this.pageIndex=0,this.pageSize=10,this.totalCount=0,this.pageChanged=new t.vpe}ngOnChanges(){this.totalPages=Math.ceil(this.totalCount/this.pageSize),this.pages=Array.from({length:this.totalPages},(n,e)=>e+1)}changePage(n){n>=0&&n<this.totalPages&&this.pageChanged.emit(n)}}u.\u0275fac=function(n){return new(n||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-pagination"]],inputs:{pageIndex:"pageIndex",pageSize:"pageSize",totalCount:"totalCount"},outputs:{pageChanged:"pageChanged"},features:[t.TTD],decls:6,vars:3,consts:[[1,"pagination"],[1,"page-link",3,"disabled","click"],["class","page-link",3,"active","click",4,"ngFor","ngForOf"],[1,"page-link",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return e.changePage(e.pageIndex-1)}),t._uU(2," Previous "),t.qZA(),t.YNc(3,B,2,3,"button",2),t.TgZ(4,"button",1),t.NdJ("click",function(){return e.changePage(e.pageIndex+1)}),t._uU(5," Next "),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("disabled",0===e.pageIndex),t.xp6(2),t.Q6J("ngForOf",e.pages),t.xp6(1),t.Q6J("disabled",e.pageIndex===e.totalPages-1))},dependencies:[s.sg]});const R=function(o){return["details",o]},Y=function(o){return["edit",o]};function $(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",9),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",9),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"i",12),t._uU(11,"visibility"),t.qZA(),t.TgZ(12,"i",12),t._uU(13,"edit"),t.qZA(),t.TgZ(14,"i",13),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.deleteUser(a.id))}),t._uU(15,"delete"),t.qZA()()()}if(2&o){const e=n.$implicit;t.xp6(2),t.Oqu(e.displayName),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.Oqu(null==e.address?null:e.address.street),t.xp6(2),t.Oqu(null==e.address?null:e.address.city),t.xp6(2),t.Q6J("routerLink",t.VKq(6,R,e.id)),t.xp6(2),t.Q6J("routerLink",t.VKq(8,Y,e.id))}}class f{constructor(n,e,i){this.adminService=n,this.router=e,this.route=i,this.pageIndex=0,this.pageSize=10,this.totalCount=0,this.searchTerm=""}ngOnInit(){this.loadUsers()}loadUsers(){this.adminService.getAllUsers(this.pageIndex,this.pageSize,this.searchTerm).subscribe(n=>{this.users=n.users,this.totalCount=n.totalCount})}searchUsers(){this.pageIndex=0,this.loadUsers()}onPageChanged(n){this.pageIndex=n,this.loadUsers()}resetSearch(){this.searchTerm="",this.pageIndex=0,this.loadUsers()}showUserDetails(n){this.router.navigate(["/users/details",n])}editUser(n){this.router.navigate(["/users/edit",n])}deleteUser(n){confirm("Are you sure you want to delete this user?")&&this.adminService.deleteUser(n).subscribe(()=>{console.log("User deleted successfully"),this.users=this.users.filter(e=>e.id!==n)},e=>{console.error("Error deleting user",e)})}}f.\u0275fac=function(n){return new(n||f)(t.Y36(p),t.Y36(g.F0),t.Y36(g.gz))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-users-list"]],decls:27,vars:5,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-6"],[1,"input-group","mb-3"],["type","text","placeholder","Search by display name",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"col-12"],[1,"table-responsive"],[1,"table","table-striped"],[1,"d-none","d-md-table-cell"],[4,"ngFor","ngForOf"],[3,"pageIndex","pageSize","totalCount","pageChanged"],[1,"material-icons",2,"cursor","pointer",3,"routerLink"],[1,"material-icons",2,"cursor","pointer",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),t.NdJ("ngModelChange",function(r){return e.searchTerm=r}),t.qZA(),t.TgZ(5,"button",5),t.NdJ("click",function(){return e.searchUsers()}),t._uU(6,"Search"),t.qZA(),t.TgZ(7,"button",5),t.NdJ("click",function(){return e.resetSearch()}),t._uU(8,"Reset"),t.qZA()()()(),t.TgZ(9,"div",1)(10,"div",6)(11,"div",7)(12,"table",8)(13,"thead")(14,"tr")(15,"th"),t._uU(16,"Display Name"),t.qZA(),t.TgZ(17,"th",9),t._uU(18,"Email"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Street"),t.qZA(),t.TgZ(21,"th",9),t._uU(22,"City"),t.qZA()()(),t.TgZ(23,"tbody"),t.YNc(24,$,16,10,"tr",10),t.qZA()()()(),t.TgZ(25,"div",6)(26,"app-pagination",11),t.NdJ("pageChanged",function(r){return e.onPageChanged(r)}),t.qZA()()()()),2&n&&(t.xp6(4),t.Q6J("ngModel",e.searchTerm),t.xp6(20),t.Q6J("ngForOf",e.users),t.xp6(2),t.Q6J("pageIndex",e.pageIndex)("pageSize",e.pageSize)("totalCount",e.totalCount))},dependencies:[s.sg,c.Fj,c.JJ,c.On,g.rH,u]});var V=l(8714),j=l(7696);const H=function(o){return["edit",o]};function K(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"img",11),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"currency"),t.qZA(),t.TgZ(8,"td")(9,"i",12),t._uU(10,"edit"),t.qZA(),t.TgZ(11,"i",13),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.deleteProduct(a.id))}),t._uU(12,"delete"),t.qZA()()()}if(2&o){const e=n.$implicit;t.xp6(2),t.s9C("src",e.pictureUrl||"/assets/images/placeholder.png",t.LSH),t.s9C("alt",e.name),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(t.lcZ(7,5,e.price)),t.xp6(3),t.Q6J("routerLink",t.VKq(7,H,e.id))}}function G(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"app-pager",14),t.NdJ("pageChanged",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onPageChanged(r))}),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("pageSize",e.shopParams.pageSize)("pageNumber",e.shopParams.pageNumber)("totalCount",e.totalCount)}}const W=function(){return["/admin/create"]};function X(o,n){if(1&o&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),t._uU(4,"Create new product"),t.qZA()(),t.TgZ(5,"div",3),t._UZ(6,"app-paging-header",5),t.qZA()(),t.TgZ(7,"div",2)(8,"div",6)(9,"div",7)(10,"table",8)(11,"thead")(12,"tr")(13,"th"),t._uU(14,"Product"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Name"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Price"),t.qZA()()(),t.TgZ(19,"tbody"),t.YNc(20,K,13,9,"tr",9),t.qZA()()()()(),t.TgZ(21,"div",6),t.YNc(22,G,2,3,"div",10),t.qZA()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("routerLink",t.DdM(6,W)),t.xp6(3),t.Q6J("totalCount",e.totalCount)("pageSize",e.shopParams.pageSize)("pageNumber",e.shopParams.pageNumber),t.xp6(14),t.Q6J("ngForOf",e.products),t.xp6(2),t.Q6J("ngIf",e.totalCount>0)}}class P{constructor(n,e){this.shopService=n,this.adminService=e,this.shopParams=this.shopService.getShopParams()}ngOnInit(){this.getProducts()}getProducts(n=!1){this.shopService.getProducts(n).subscribe(e=>{this.products=e.data,this.totalCount=e.count},e=>{console.log(e)})}onPageChanged(n){const e=this.shopService.getShopParams();e.pageNumber!==n&&(e.pageNumber=n,this.shopService.setShopParams(e),this.getProducts(!0))}deleteProduct(n){this.adminService.deleteProduct(n).subscribe(e=>{this.products.splice(this.products.findIndex(i=>i.id===n),1),this.totalCount--})}}P.\u0275fac=function(n){return new(n||P)(t.Y36(A.d),t.Y36(p))},P.\u0275cmp=t.Xpm({type:P,selectors:[["app-products-list"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-6"],[1,"btn","btn-outline-primary",3,"routerLink"],[3,"totalCount","pageSize","pageNumber"],[1,"col-12"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"img-fluid",2,"max-height","50px",3,"src","alt"],[1,"material-icons",2,"cursor","pointer",3,"routerLink"],[1,"material-icons",2,"cursor","pointer",3,"click"],[3,"pageSize","pageNumber","totalCount","pageChanged"]],template:function(n,e){1&n&&t.YNc(0,X,23,7,"div",0),2&n&&t.Q6J("ngIf",e.products)},dependencies:[s.sg,s.O5,V.U,j.P,g.rH,s.H9]});var tt=l(4128);class et{constructor(n){this.name="",this.description="",this.pictureUrl="",Object.assign(this,n)}}var I=l(9241),nt=l(769);function ot(o,n){1&o&&(t.TgZ(0,"div"),t._uU(1," Product Name is required "),t.qZA())}function it(o,n){if(1&o&&(t.TgZ(0,"div",22),t.YNc(1,ot,2,0,"div",23),t.qZA()),2&o){t.oxw();const e=t.MAs(9);t.xp6(1),t.Q6J("ngIf",e.errors.required)}}function rt(o,n){1&o&&(t.TgZ(0,"div"),t._uU(1," Product price is required "),t.qZA())}function at(o,n){1&o&&(t.TgZ(0,"div"),t._uU(1," Product price needs to be a decimal value "),t.qZA())}function st(o,n){1&o&&(t.TgZ(0,"div"),t._uU(1," Product price must be greater than zero "),t.qZA())}function ct(o,n){if(1&o&&(t.TgZ(0,"div",22),t.YNc(1,rt,2,0,"div",23),t.YNc(2,at,2,0,"div",23),t.YNc(3,st,2,0,"div",23),t.qZA()),2&o){t.oxw();const e=t.MAs(16);t.xp6(1),t.Q6J("ngIf",e.errors.required),t.xp6(1),t.Q6J("ngIf",e.errors.pattern),t.xp6(1),t.Q6J("ngIf",e.errors.min)}}function dt(o,n){1&o&&(t.TgZ(0,"div"),t._uU(1," Product description is required "),t.qZA())}function lt(o,n){if(1&o&&(t.TgZ(0,"div",22),t.YNc(1,dt,2,0,"div",23),t.qZA()),2&o){t.oxw();const e=t.MAs(23);t.xp6(1),t.Q6J("ngIf",e.errors.required)}}function gt(o,n){if(1&o&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&o){const e=n.$implicit,i=t.oxw();t.Q6J("selected",i.product.productBrandId===e.id)("ngValue",e.id),t.xp6(1),t.Oqu(e.name)}}function pt(o,n){if(1&o&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&o){const e=n.$implicit,i=t.oxw();t.Q6J("selected",i.product.productTypeId===e.id)("ngValue",e.id),t.xp6(1),t.Oqu(e.name)}}const q=function(o){return{"is-invalid":o}};class b{constructor(n,e,i){this.route=n,this.adminService=e,this.router=i}ngOnInit(){}onSubmit(n){if("edit"===this.route.snapshot.url[0].path){const e={...this.product,...n,price:+n.price};this.adminService.updateProduct(e,+this.route.snapshot.paramMap.get("id")).subscribe(i=>{this.router.navigate(["/admin"])})}else{const e={...n,price:+n.price};this.adminService.createProduct(e).subscribe(i=>{this.router.navigate(["/admin"])})}}updatePrice(n){this.product.price=n}}b.\u0275fac=function(n){return new(n||b)(t.Y36(g.gz),t.Y36(p),t.Y36(g.F0))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-edit-product-form"]],inputs:{product:"product",brands:"brands",types:"types"},decls:40,vars:24,consts:[[1,"container"],[3,"ngSubmit"],["productForm","ngForm"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","name"],["required","","type","text","id","name","placeholder","Product Name","name","name",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["name","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","price"],["required","","type","text","id","price","placeholder","Price","currencyMask","","name","price","pattern","^\\$?([0-9]{1,3},([0-9]{3},)*[0-9]{3}|[0-9]+)(\\.[0-9][0-9])?$",1,"form-control",3,"ngClass","min","ngModel","ngModelChange"],["price","ngModel"],["for","description"],["required","","id","description","name","description","rows","3",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["description","ngModel"],["for","brand"],["id","brand","name","productBrandId","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"selected","ngValue",4,"ngFor","ngForOf"],["for","type"],["id","type","name","productTypeId","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","my-3",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"],[3,"selected","ngValue"]],template:function(n,e){if(1&n){const i=t.EpF();t.TgZ(0,"div",0)(1,"form",1,2),t.NdJ("ngSubmit",function(){t.CHM(i);const a=t.MAs(2);return t.KtG(e.onSubmit(a.valid&&a.value))}),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),t._uU(7,"Product Name"),t.qZA(),t.TgZ(8,"input",7,8),t.NdJ("ngModelChange",function(a){return e.product.name=a}),t.qZA(),t.YNc(10,it,2,1,"div",9),t.qZA()(),t.TgZ(11,"div",4)(12,"div",5)(13,"label",10),t._uU(14,"Price"),t.qZA(),t.TgZ(15,"input",11,12),t.NdJ("ngModelChange",function(a){return e.updatePrice(+a)}),t.ALo(17,"number"),t.qZA(),t.YNc(18,ct,4,3,"div",9),t.qZA()()(),t.TgZ(19,"div",5)(20,"label",13),t._uU(21,"Description"),t.qZA(),t.TgZ(22,"textarea",14,15),t.NdJ("ngModelChange",function(a){return e.product.description=a}),t.qZA(),t.YNc(24,lt,2,1,"div",9),t.qZA(),t.TgZ(25,"div",3)(26,"div",4)(27,"div",5)(28,"label",16),t._uU(29,"Brand"),t.qZA(),t.TgZ(30,"select",17),t.NdJ("ngModelChange",function(a){return e.product.productBrandId=a}),t.YNc(31,gt,2,3,"option",18),t.qZA()()(),t.TgZ(32,"div",4)(33,"div",5)(34,"label",19),t._uU(35,"Type"),t.qZA(),t.TgZ(36,"select",20),t.NdJ("ngModelChange",function(a){return e.product.productTypeId=a}),t.YNc(37,pt,2,3,"option",18),t.qZA()()()(),t.TgZ(38,"button",21),t._uU(39,"Submit"),t.qZA()()()}if(2&n){const i=t.MAs(2),r=t.MAs(9),a=t.MAs(16),d=t.MAs(23);t.xp6(8),t.Q6J("ngClass",t.VKq(18,q,r.invalid&&(r.dirty||r.touched)))("ngModel",e.product.name),t.xp6(2),t.Q6J("ngIf",r.invalid&&(r.dirty||r.touched)),t.xp6(5),t.Q6J("ngClass",t.VKq(20,q,a.invalid&&(a.dirty||a.touched)))("min",.01)("ngModel",t.xi3(17,15,+e.product.price,"1.2-2")),t.xp6(3),t.Q6J("ngIf",a.invalid&&(a.dirty||a.touched)),t.xp6(4),t.Q6J("ngClass",t.VKq(22,q,d.invalid&&(d.dirty||d.touched)))("ngModel",e.product.description),t.xp6(2),t.Q6J("ngIf",d.invalid&&(d.dirty||d.touched)),t.xp6(6),t.Q6J("ngModel",e.product.productBrandId),t.xp6(1),t.Q6J("ngForOf",e.brands),t.xp6(5),t.Q6J("ngModel",e.product.productTypeId),t.xp6(1),t.Q6J("ngForOf",e.types),t.xp6(1),t.Q6J("disabled",!i.valid)}},dependencies:[s.mk,s.sg,s.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.Q7,c.c5,c.On,c.F,nt.g1,s.JJ]});var ut=l(7185),k=l(1208),S=l(1894);function _t(o,n){if(1&o){const e=t.EpF();t.ynx(0),t._UZ(1,"img",7),t.TgZ(2,"button",8),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onUpload())}),t._uU(3,"Upload Image"),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("src",e.croppedImage,t.LSH)}}class x{constructor(){this.addFile=new t.vpe,this.files=[],this.imageChangedEvent="",this.croppedImage=""}ngOnInit(){}fileChangeEvent(n){this.imageChangedEvent=n}imageCropped(n){this.croppedImage=n.base64}onSelect(n){this.files=[],this.files.push(...n.addedFiles),this.fileChangeEvent(this.files[0])}onUpload(){console.log((0,k.Ll)(this.croppedImage)),this.addFile.emit((0,k.Ll)(this.croppedImage))}}function mt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8),t._UZ(2,"img",9),t.TgZ(3,"div",10)(4,"button",11),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.setMainPhoto(a.id))}),t._uU(5,"Set Main "),t.qZA(),t.TgZ(6,"button",12),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.deletePhoto(a.id))}),t._UZ(7,"i",13),t.qZA()()()()}if(2&o){const e=n.$implicit;t.xp6(2),t.s9C("src",e.pictureUrl,t.LSH),t.s9C("alt",e.fileName),t.xp6(2),t.Tol(e.isMain?"btn btn-primary":"btn btn-outline-primary"),t.Q6J("disabled",e.isMain),t.xp6(2),t.Q6J("disabled",e.isMain)}}function ht(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",3)(2,"h3"),t._uU(3,"Product Photos"),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.addPhotoModeToggle())}),t._uU(5," Add New Photo "),t.qZA()(),t.TgZ(6,"div",5),t.YNc(7,mt,8,7,"div",6),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(7),t.Q6J("ngForOf",null==e.product?null:e.product.photos)}}function Ct(o,n){if(1&o&&(t.TgZ(0,"div",18)(1,"div",19),t._uU(2),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(1),t.Udp("width",e.progress,"%"),t.xp6(1),t.hij(" ",e.progress,"% ")}}function ft(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",3)(2,"h3",14),t._uU(3,"Add new product image"),t.qZA(),t.TgZ(4,"button",15),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.addPhotoModeToggle())}),t._uU(5,"Cancel"),t.qZA()(),t.YNc(6,Ct,3,3,"div",16),t.TgZ(7,"app-photo-widget",17),t.NdJ("addFile",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.uploadFile(r))}),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngIf",e.progress>0)}}x.\u0275fac=function(n){return new(n||x)},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-photo-widget"]],outputs:{addFile:"addFile"},decls:17,vars:5,consts:[[1,"row"],[1,"col-12","col-md-4"],["ngx-dropzone","",1,"custom-dropzone",3,"change"],[1,"fa","fa-upload","fa-4x"],[1,"col-12","col-md-4","img-preview"],["format","png",1,"img-fluid",3,"imageChangedEvent","imageFile","maintainAspectRatio","aspectRatio","imageCropped"],[4,"ngIf"],[1,"img-fluid",3,"src"],[1,"btn-block","btn-primary",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3"),t._uU(3,"Step 1 - Add Photo"),t.qZA(),t.TgZ(4,"div",2),t.NdJ("change",function(r){return e.onSelect(r)}),t.TgZ(5,"ngx-dropzone-label"),t._UZ(6,"i",3),t.TgZ(7,"h4"),t._uU(8,"Drop image here"),t.qZA()()()(),t.TgZ(9,"div",4)(10,"h3"),t._uU(11,"Step 2 - Resize image"),t.qZA(),t.TgZ(12,"image-cropper",5),t.NdJ("imageCropped",function(r){return e.imageCropped(r)}),t.qZA()(),t.TgZ(13,"div",1)(14,"h3"),t._uU(15,"Step 3 - Preview & Upload"),t.qZA(),t.YNc(16,_t,4,1,"ng-container",6),t.qZA()()),2&n&&(t.xp6(12),t.Q6J("imageChangedEvent",e.imageChangedEvent)("imageFile",e.files[0])("maintainAspectRatio",!0)("aspectRatio",1),t.xp6(4),t.Q6J("ngIf",e.croppedImage))},dependencies:[s.O5,S._f,S.NP,k.ap],styles:[".custom-dropzone[_ngcontent-%COMP%]{border:3px dashed #eee;border-radius:5px;padding-top:30px;text-align:center;height:200px}.custom-dropzone.ngx-dz-hovered[_ngcontent-%COMP%]{border:3px solid green}"]});class M{constructor(n,e){this.adminService=n,this.toast=e,this.progress=0,this.addPhotoMode=!1}ngOnInit(){}addPhotoModeToggle(){this.addPhotoMode=!this.addPhotoMode}uploadFile(n){this.adminService.uploadImage(n,this.product.id).subscribe(e=>{switch(e.type){case U.dt.UploadProgress:this.progress=Math.round(e.loaded/e.total*100);break;case U.dt.Response:this.product=e.body,setTimeout(()=>{this.progress=0,this.addPhotoMode=!1},1500)}},e=>{this.toast.error(e.errors?e.errors[0]:"Problem uploading image"),this.progress=0})}deletePhoto(n){this.adminService.deleteProductPhoto(n,this.product.id).subscribe(()=>{const e=this.product.photos.findIndex(i=>i.id===n);this.product.photos.splice(e,1)},e=>{this.toast.error("Problem deleting photo"),console.log(e)})}setMainPhoto(n){this.adminService.setMainPhoto(n,this.product.id).subscribe(e=>{this.product=e},e=>{this.toast.error("Problem set photo"),console.log(e)})}}M.\u0275fac=function(n){return new(n||M)(t.Y36(p),t.Y36(ut._W))},M.\u0275cmp=t.Xpm({type:M,selectors:[["app-edit-product-photos"]],inputs:{product:"product"},decls:4,vars:2,consts:[[1,""],[1,"container"],[4,"ngIf"],[1,"d-flex","justify-content-between","mb-3"],[1,"btn","btn-primary",3,"click"],[1,"row"],["class","col-12 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-4","col-xl-3"],[1,"card"],[1,"card-img-top","img-fluid",3,"src","alt"],[1,"btn-group",2,"width","100%"],["type","button",2,"width","50%",3,"disabled","click"],["type","button",1,"btn","btn-outline-secondary",2,"width","50%",3,"disabled","click"],[1,"fa","fa-trash"],[1,"text-primary-purble"],[1,"btn","btn-outline-secondary",3,"click"],["class","progress form-group",4,"ngIf"],[3,"addFile"],[1,"progress","form-group"],["role","progressbar",1,"progress-bar","progress-bar-striped","bg-success"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,ht,8,1,"ng-container",2),t.YNc(3,ft,8,1,"ng-container",2),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("ngIf",!e.addPhotoMode),t.xp6(1),t.Q6J("ngIf",e.addPhotoMode))},dependencies:[s.sg,s.O5,x]});class _{constructor(n,e,i,r){this.adminService=n,this.shopService=e,this.route=i,this.router=r,this.productFormValues=new et}ngOnInit(){const n=this.getBrands(),e=this.getTypes();(0,tt.D)([e,n]).subscribe(i=>{this.types=i[0],this.brands=i[1]},i=>{console.log(i)},()=>{this.route.snapshot.url.some(i=>"edit"===i.path)&&this.loadProduct()})}updatePrice(n){this.product.price=n}loadProduct(){const n=this.route.snapshot.paramMap.get("id");console.log("loadProduct called with id:",n),n&&this.shopService.getProduct(+n).subscribe(e=>{const i=this.brands&&this.brands.find(a=>a.name===e.productBrand).id,r=this.types&&this.types.find(a=>a.name===e.productType).id;this.product=e,this.productFormValues={...e,productBrandId:i,productTypeId:r},console.log("productFormValues:",this.productFormValues)})}getBrands(){return this.shopService.getBrands()}getTypes(){return this.shopService.getTypes()}onSubmit(n){if("edit"===this.route.snapshot.url[0].path){const e={...this.product,...n,price:+n.price};this.adminService.updateProduct(e,+this.route.snapshot.paramMap.get("id")).subscribe(i=>{this.router.navigate(["/admin"])})}else{const e={...n,price:+n.price};this.adminService.createProduct(e).subscribe(i=>{this.router.navigate(["/admin"])})}}}_.\u0275fac=function(n){return new(n||_)(t.Y36(p),t.Y36(A.d),t.Y36(g.gz),t.Y36(g.F0))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-edit-product"]],decls:11,vars:4,consts:[[1,"product-edit","mb-4"],[1,"container"],[1,"row"],[1,"col-12"],[1,"tab-panel"],[1,"product-tabset"],["heading","Edit Product"],[1,"col-lg-8"],[3,"product","brands","types"],["heading","Edit Photos"],[3,"product"]],template:function(n,e){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"tabset",5)(6,"tab",6)(7,"div",7),t._UZ(8,"app-edit-product-form",8),t.qZA()(),t.TgZ(9,"tab",9),t._UZ(10,"app-edit-product-photos",10),t.qZA()()()()()()()),2&n&&(t.xp6(8),t.Q6J("product",e.productFormValues)("brands",e.brands)("types",e.types),t.xp6(2),t.Q6J("product",e.product))},dependencies:[I.wW,I.AH,b,M]});class v{constructor(n,e,i,r){this.userService=n,this.route=e,this.location=i,this.router=r,this.user={}}ngOnInit(){this.user.address||(this.user.address={firstName:"",lastName:"",street:"",city:"",state:"",zipcode:""}),this.userId=this.route.snapshot.paramMap.get("id"),this.userService.getUserById(this.userId).subscribe(n=>{this.user=n})}goBack(){this.location.back()}onSave(){this.userService.updateUser(this.userId,this.user).subscribe(n=>{console.log("User updated successfully",n)},n=>{console.error("Error updating user",n)})}}v.\u0275fac=function(n){return new(n||v)(t.Y36(p),t.Y36(g.gz),t.Y36(s.Ye),t.Y36(g.F0))},v.\u0275cmp=t.Xpm({type:v,selectors:[["app-user-edit"]],decls:51,vars:8,consts:[[1,"container"],[3,"ngSubmit"],["userForm","ngForm"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"mb-3"],["for","displayName",1,"form-label"],["name","displayName","id","displayName","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","email",1,"form-label"],["name","email","id","email","type","email",1,"form-control",3,"ngModel","ngModelChange"],["for","addressFirstName",1,"form-label"],["name","addressFirstName","id","addressFirstName","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","addressLastName",1,"form-label"],["name","addressLastName","id","addressLastName","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","addressStreet",1,"form-label"],["name","addressStreet","id","addressStreet","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","addressCity",1,"form-label"],["name","addressCity","id","addressCity","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","addressState",1,"form-label"],["name","addressState","id","addressState","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","addressZipcode",1,"form-label"],["name","addressZipcode","id","addressZipcode","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Edit User"),t.qZA(),t.TgZ(3,"form",1,2),t.NdJ("ngSubmit",function(){return e.onSave()}),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"label",6),t._uU(9,"Display Name:"),t.qZA(),t.TgZ(10,"input",7),t.NdJ("ngModelChange",function(r){return e.user.displayName=r}),t.qZA()()(),t.TgZ(11,"div",4)(12,"div",5)(13,"label",8),t._uU(14,"Email:"),t.qZA(),t.TgZ(15,"input",9),t.NdJ("ngModelChange",function(r){return e.user.email=r}),t.qZA()()(),t.TgZ(16,"div",4)(17,"div",5)(18,"label",10),t._uU(19,"Address First Name:"),t.qZA(),t.TgZ(20,"input",11),t.NdJ("ngModelChange",function(r){return e.user.address.firstName=r}),t.qZA()()(),t.TgZ(21,"div",4)(22,"div",5)(23,"label",12),t._uU(24,"Address Last Name:"),t.qZA(),t.TgZ(25,"input",13),t.NdJ("ngModelChange",function(r){return e.user.address.lastName=r}),t.qZA()()(),t.TgZ(26,"div",4)(27,"div",5)(28,"label",14),t._uU(29,"Address Street:"),t.qZA(),t.TgZ(30,"input",15),t.NdJ("ngModelChange",function(r){return e.user.address.street=r}),t.qZA()()(),t.TgZ(31,"div",4)(32,"div",5)(33,"label",16),t._uU(34,"Address City:"),t.qZA(),t.TgZ(35,"input",17),t.NdJ("ngModelChange",function(r){return e.user.address.city=r}),t.qZA()()(),t.TgZ(36,"div",4)(37,"div",5)(38,"label",18),t._uU(39,"Address State:"),t.qZA(),t.TgZ(40,"input",19),t.NdJ("ngModelChange",function(r){return e.user.address.state=r}),t.qZA()()(),t.TgZ(41,"div",4)(42,"div",5)(43,"label",20),t._uU(44,"Address Zipcode:"),t.qZA(),t.TgZ(45,"input",21),t.NdJ("ngModelChange",function(r){return e.user.address.zipcode=r}),t.qZA()()()(),t.TgZ(46,"div",22)(47,"button",23),t._uU(48,"Save"),t.qZA(),t.TgZ(49,"button",24),t.NdJ("click",function(){return e.goBack()}),t._uU(50,"Back"),t.qZA()()()()),2&n&&(t.xp6(10),t.Q6J("ngModel",e.user.displayName),t.xp6(5),t.Q6J("ngModel",e.user.email),t.xp6(5),t.Q6J("ngModel",e.user.address.firstName),t.xp6(5),t.Q6J("ngModel",e.user.address.lastName),t.xp6(5),t.Q6J("ngModel",e.user.address.street),t.xp6(5),t.Q6J("ngModel",e.user.address.city),t.xp6(5),t.Q6J("ngModel",e.user.address.state),t.xp6(5),t.Q6J("ngModel",e.user.address.zipcode))},dependencies:[c._Y,c.Fj,c.JJ,c.JL,c.On,c.F]});class O{constructor(n,e,i,r){this.route=n,this.adminService=e,this.router=i,this.location=r,this.user={address:{}}}ngOnInit(){this.userId=this.route.snapshot.paramMap.get("id"),this.getUserDetails()}getUserDetails(){this.adminService.getUserById(this.userId).subscribe(n=>{this.user=n})}goBack(){this.location.back()}}function Pt(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"span",7),t._uU(7,"equalizer"),t.qZA()()(),t.TgZ(8,"div",8)(9,"p",9)(10,"strong"),t._uU(11,"Visits"),t.qZA()(),t.TgZ(12,"h3",10),t._uU(13,"1000,1"),t.qZA()()()(),t.TgZ(14,"div",3)(15,"div",4)(16,"div",5)(17,"div",11)(18,"span",7),t._uU(19,"shopping_cart"),t.qZA()()(),t.TgZ(20,"div",8)(21,"p",9)(22,"strong"),t._uU(23,"Orders"),t.qZA()(),t.TgZ(24,"h3",10),t._uU(25),t.qZA()()()(),t.TgZ(26,"div",3)(27,"div",4)(28,"div",5)(29,"div",12)(30,"span",7),t._uU(31,"attach_money"),t.qZA()()(),t.TgZ(32,"div",8)(33,"p",9)(34,"strong"),t._uU(35,"Total Products"),t.qZA()(),t.TgZ(36,"h3",10),t._uU(37),t.qZA()()()(),t.TgZ(38,"div",3)(39,"div",4)(40,"div",5)(41,"div",13)(42,"span",7),t._uU(43,"follow_the_signs"),t.qZA()()(),t.TgZ(44,"div",8)(45,"p",9)(46,"strong"),t._uU(47,"Users"),t.qZA()(),t.TgZ(48,"h3",10),t._uU(49),t.qZA()()()()(),t.BQk()),2&o){const e=t.oxw();t.xp6(25),t.Oqu(e.totalOrders),t.xp6(12),t.Oqu(e.totalCount),t.xp6(12),t.Oqu(e.totalUsersCount)}}O.\u0275fac=function(n){return new(n||O)(t.Y36(g.gz),t.Y36(p),t.Y36(g.F0),t.Y36(s.Ye))},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-user-details"]],decls:45,vars:8,consts:[[1,"container"],[1,"card"],[1,"card-body"],[1,"mb-3"],[1,"form-label"],[1,"btn","btn-primary",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),t._uU(5,"Display Name:"),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.qZA()(),t.TgZ(8,"div",3)(9,"label",4),t._uU(10,"Email:"),t.qZA(),t.TgZ(11,"span"),t._uU(12),t.qZA()(),t.TgZ(13,"div",3)(14,"label",4),t._uU(15,"Address First Name:"),t.qZA(),t.TgZ(16,"span"),t._uU(17),t.qZA()(),t.TgZ(18,"div",3)(19,"label",4),t._uU(20,"Address Last Name:"),t.qZA(),t.TgZ(21,"span"),t._uU(22),t.qZA()(),t.TgZ(23,"div",3)(24,"label",4),t._uU(25,"Address Street:"),t.qZA(),t.TgZ(26,"span"),t._uU(27),t.qZA()(),t.TgZ(28,"div",3)(29,"label",4),t._uU(30,"Address City:"),t.qZA(),t.TgZ(31,"span"),t._uU(32),t.qZA()(),t.TgZ(33,"div",3)(34,"label",4),t._uU(35,"Address State:"),t.qZA(),t.TgZ(36,"span"),t._uU(37),t.qZA()(),t.TgZ(38,"div",3)(39,"label",4),t._uU(40,"Address Zipcode:"),t.qZA(),t.TgZ(41,"span"),t._uU(42),t.qZA()(),t.TgZ(43,"button",5),t.NdJ("click",function(){return e.goBack()}),t._uU(44,"Back"),t.qZA()()()()),2&n&&(t.xp6(7),t.Oqu(e.user.displayName),t.xp6(5),t.Oqu(e.user.email),t.xp6(5),t.Oqu(e.user.address.firstName),t.xp6(5),t.Oqu(e.user.address.lastName),t.xp6(5),t.Oqu(e.user.address.street),t.xp6(5),t.Oqu(e.user.address.city),t.xp6(5),t.Oqu(e.user.address.state),t.xp6(5),t.Oqu(e.user.address.zipcode))}});class Z{constructor(n,e){this.adminService=n,this.shopService=e,this.products=[],this.totalCount=0,this.totalUsersCount=0}ngOnInit(){this.adminService.getTotalUsersCount("").subscribe(n=>{this.totalUsersCount=n,this.getProducts(),this.getTotalOrders()})}getProducts(n=!1){this.shopService.getProducts(n).subscribe(e=>{this.products=e.data,this.totalCount=e.count},e=>{console.log(e)})}getTotalOrders(){this.adminService.getAllOrders().subscribe(n=>{this.totalOrders=n.totalCount},n=>{console.error(n)})}}Z.\u0275fac=function(n){return new(n||Z)(t.Y36(p),t.Y36(A.d))},Z.\u0275cmp=t.Xpm({type:Z,selectors:[["app-dashboard"]],decls:2,vars:1,consts:[[1,"container","pb-3"],[4,"ngIf"],[1,"row"],[1,"col-lg-3","col-md-6","col-sm-6"],[1,"card","card-stats"],[1,"card-header"],[1,"icon","icon-warning"],[1,"material-icons"],[1,"card-content"],[1,"category"],[1,"card-title"],[1,"icon","icon-rose"],[1,"icon","icon-success"],[1,"icon","icon-info"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.YNc(1,Pt,50,3,"ng-container",1),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",void 0!==e.totalOrders&&void 0!==e.totalCount&&void 0!==e.totalUsersCount))},dependencies:[s.O5],styles:['@import"https://fonts.googleapis.com/css?family=Nova+Slim&display=swap";body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.8;font-family:Roboto,sans-serif;color:#555e58;text-transform:capitalize;text-rendering:optimizeLegibility!important;-webkit-font-smoothing:antialiased!important;font-weight:400;margin:0;padding:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-weight:400;line-height:1.5em}p[_ngcontent-%COMP%]{font-size:15px;margin:12px 0 0;line-height:24px}a[_ngcontent-%COMP%]{color:#333;font-weight:400}button[_ngcontent-%COMP%]:focus{box-shadow:none;outline:none;border:none}button[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{padding:0;margin:0;list-style:none}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{color:#333;text-decoration:none;transition:all .3s}@font-face{font-family:Material Icons;font-style:normal;font-weight:400;src:local("Material Icons"),local("MaterialIcons-Regular")}.material-icons[_ngcontent-%COMP%]{font-family:Material Icons;font-weight:400;font-style:normal;font-size:24px;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}.wrapper[_ngcontent-%COMP%]{position:relative;width:100%;overflow:auto}#sidebar[_ngcontent-%COMP%]{position:fixed;height:100vh!important;top:0;bottom:0;left:0;z-index:11;width:260px;overflow:auto;transition:all .3s;background:#FFFFFF;box-shadow:0 10px 30px -12px #0000006b,0 4px 25px #0000001f,0 8px 10px -5px #0003}#sidebar[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;border-radius:10px;background-color:#eee;display:none}#sidebar[_ngcontent-%COMP%]::-webkit-scrollbar-thumbs{width:5px;border-radius:10px;background-color:#333;display:none}#sidebar[_ngcontent-%COMP%]:hover::-webkit-scrollbar{display:block}#sidebar[_ngcontent-%COMP%]:hover::-webkit-scrollbar-thumbs{display:block}#sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:20px;background-color:#fff;border-bottom:1px solid #eee}.sidebar-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;font-size:17px;margin:0;text-transform:uppercase;transition:all .5s ease;font-weight:600}.sidebar-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:45px;margin-right:10px}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:2px 7px}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#333;background-color:#c8c8c833}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#333;background-color:#c8c8c833}.dropdown-toggle[_ngcontent-%COMP%]:after{position:absolute;right:10px;top:23px}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.drodown[_ngcontent-%COMP%]{position:sticky}#sidebar[_ngcontent-%COMP%]   ul.components[_ngcontent-%COMP%]{padding:20px 0}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px;line-height:30px;border-radius:5px;font-size:15px;position:relative;font-weight:400;display:block}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:capitalize;display:inline-block}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative;margin-right:10px;top:5px;color:#555;margin-left:10px}#content[_ngcontent-%COMP%]{position:relative;transition:all .3s;background-color:#f5f5f5}.top-navbar[_ngcontent-%COMP%]{width:100%;z-index:9;position:relative}.main-content[_ngcontent-%COMP%]{padding:10px 20px 0;position:relative;width:100%}.navbar[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.navbar-brand[_ngcontent-%COMP%]{color:#fff}.navbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none}.navbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}#sidebarCollapse[_ngcontent-%COMP%]{border-radius:50%;width:45px;height:45px;text-align:center;line-height:45px;margin-right:20px;border:none;color:#fff;background-color:#00000017}#sidebarCollapse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:9px;padding:0}.navbar-nav[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%]{color:#fff;border-radius:4px;background-color:#00000014}.navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff}.navbar[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px;display:block;font-size:9px;border:0px;font-size:10px;background:#d9534f;min-width:15px;text-align:center;padding:1px 5px;height:15px;border-radius:2px;line-height:14px}.navbar-nav[_ngcontent-%COMP%] > li.show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{transform:translateZ(0);opacity:1;visibility:visible}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:13px;padding:10px 20px;margin:0 5px;border-radius:2px;font-weight:400;transition:all .15s linear}.navbar-nav[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus{color:#fff;background-color:#00000014}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;display:block;padding:10px 15px!important}.card[_ngcontent-%COMP%]{margin:10px 0}.card[_ngcontent-%COMP%]{border-radius:0!important}.card[_ngcontent-%COMP%]{display:inline-block;position:relative;border:none!important;width:100%;margin:15px 0;box-shadow:0 1px 2px #00000014;border-radius:6px;color:#000000de;background:#fff}.card-stats[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{float:left;text-align:center}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:15px 20px 0;z-index:3;background-color:#fff!important;border-bottom:none}.card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{position:relative;top:4px;font-size:16px}.card-stats[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:36px;line-height:56px;width:56px;height:56px}.icon.icon-warning[_ngcontent-%COMP%]{color:#ff9800}.icon.icon-rose[_ngcontent-%COMP%]{color:#e91e63}.icon.icon-success[_ngcontent-%COMP%]{color:#4caf50}.icon.icon-info[_ngcontent-%COMP%]{color:#00bcd4}.card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{margin:0 7px;padding-top:10px;background-color:#fff;border-top:1px solid #f5f5f5}.text-info[_ngcontent-%COMP%]{color:#03a9f4!important}.card-stats[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{text-align:right;padding-top:10px}.card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{margin-bottom:0}.card[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]:not([class*=text-]){color:#555;font-size:14px;font-weight:400}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]:not(.card-calendar   .card-title)[_ngcontent-%COMP%]{margin-top:0;margin-bottom:5px}.card-stats[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin:0}.card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{line-height:22px;color:#555;font-size:15px}.card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block}.card[_ngcontent-%COMP%]   .card-header-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;margin-bottom:3px;font-size:19px;font-weight:400;color:#222;text-decoration:none}.table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{border-bottom-width:1px;font-size:16px;font-weight:400}.card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:15px 20px;position:relative}.streamline[_ngcontent-%COMP%]   .sl-primary[_ngcontent-%COMP%]{border-left-color:#188ae2}.streamline[_ngcontent-%COMP%]   .sl-item[_ngcontent-%COMP%]{position:relative;padding-bottom:12px;border-left:1px solid #ccc}.streamline[_ngcontent-%COMP%]   .sl-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-6px;top:0;background-color:#ccc;width:12px;height:12px;border-radius:100%}.streamline[_ngcontent-%COMP%]   .sl-primary[_ngcontent-%COMP%]:before, .streamline[_ngcontent-%COMP%]   .sl-primary[_ngcontent-%COMP%]:last-child:after{background-color:#188ae2}.streamline[_ngcontent-%COMP%]   .sl-danger[_ngcontent-%COMP%]:before, .streamline[_ngcontent-%COMP%]   .sl-danger[_ngcontent-%COMP%]:last-child:after{background-color:#ff5b5b}.streamline[_ngcontent-%COMP%]   .sl-success[_ngcontent-%COMP%]{border-left-color:#10c469}.streamline[_ngcontent-%COMP%]   .sl-success[_ngcontent-%COMP%]:before, .streamline[_ngcontent-%COMP%]   .sl-success[_ngcontent-%COMP%]:last-child:after{background-color:#10c469}.streamline[_ngcontent-%COMP%]   .sl-warning[_ngcontent-%COMP%]{border-left-color:#f9c851}.streamline[_ngcontent-%COMP%]   .sl-warning[_ngcontent-%COMP%]:before, .streamline[_ngcontent-%COMP%]   .sl-warning[_ngcontent-%COMP%]:last-child:after{background-color:#f9c851}.streamline[_ngcontent-%COMP%]   .sl-danger[_ngcontent-%COMP%]{border-left-color:#ff5b5b}.streamline[_ngcontent-%COMP%]   .sl-item[_ngcontent-%COMP%]   .sl-content[_ngcontent-%COMP%]{margin-left:24px}.streamline[_ngcontent-%COMP%]   .sl-item[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{color:inherit;opacity:.6;font-size:12px}.streamline[_ngcontent-%COMP%]   .sl-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#333}.footer[_ngcontent-%COMP%]{border-top:1px solid #e7e7e7}footer[_ngcontent-%COMP%]{padding:10px 0;position:relative;width:100%}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;padding:15px;font-weight:500;font-size:12px;text-transform:uppercase;border-radius:3px;text-decoration:none;position:relative;display:block}footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{padding:15px;font-size:14px;margin:0}#sidebar.show-nav[_ngcontent-%COMP%], .body-overlay.show-nav[_ngcontent-%COMP%]{transform:translate(0);opacity:1;display:block;visibility:visible;z-index:15}@media only screen and (min-width: 992px){#sidebar.active[_ngcontent-%COMP%]{width:80px;height:100%!important;position:absolute!important;overflow:visible!important;top:0!important;z-index:666;float:left!important;bottom:0!important}#sidebar.active[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], #sidebar.active[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none;transition:all .5s ease}#sidebar.active[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none;transition:all .5s ease}#content[_ngcontent-%COMP%]{width:calc(100% - 260px);position:relative;float:right;transition:all .3s;background-color:#f5f5f5}#content.active[_ngcontent-%COMP%]{width:calc(100% - 80px)}#sidebar.active[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{position:absolute;left:81px;background-color:#fff;width:180px;height:auto;margin:5px 0;top:0;border:1px solid #dcd9d9;z-index:4}}@media only screen and (min-width: 992px){.dropdown-menu[_ngcontent-%COMP%]{border:0;box-shadow:0 2px 5px #00000042;transform:translate3d(0,-20px,0);visibility:hidden;transition:all .15s linear;display:block;min-width:15rem;right:0;left:auto;opacity:0}}@media only screen and (max-width: 992px){#sidebar[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;z-index:10;width:260px;transform:translate(-100%);transition:all .15s linear;box-shadow:none!important}.body-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:none;visibility:hidden;opacity:0;z-index:3;transition:all .15s linear;background-color:#00000080}}']});const bt=function(o){return["details",o]};function xt(o,n){if(1&o&&(t.TgZ(0,"tr")(1,"td",9),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td",9),t._uU(9),t.qZA(),t.TgZ(10,"td",9),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.TgZ(13,"td",9),t._uU(14),t.ALo(15,"currency"),t.qZA(),t.TgZ(16,"td",9),t._uU(17),t.ALo(18,"currency"),t.qZA(),t.TgZ(19,"td",9),t._uU(20),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA(),t.TgZ(23,"td")(24,"i",12),t._uU(25,"visibility"),t.qZA()()()),2&o){const e=n.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.buyerEmail),t.xp6(2),t.Oqu(t.xi3(7,10,e.orderDate,"short")),t.xp6(3),t.Oqu(e.deliveryMethod),t.xp6(2),t.Oqu(t.Dn7(12,13,e.subtotal,"USD","symbol-narrow")),t.xp6(3),t.Oqu(t.Dn7(15,17,e.shippingPrice,"USD","symbol-narrow")),t.xp6(3),t.Oqu(t.Dn7(18,21,e.total,"USD","symbol-narrow")),t.xp6(3),t.Oqu(e.paymentMethod),t.xp6(2),t.Oqu(e.status),t.xp6(2),t.Q6J("routerLink",t.VKq(25,bt,e.buyerEmail))}}class y{constructor(n){this.adminService=n,this.pageIndex=0,this.pageSize=10,this.totalCount=0,this.searchTerm=""}ngOnInit(){this.getOrders(),console.log(this.getOrders())}searchOrders(){this.pageIndex=0,this.getOrders()}onPageChanged(n){this.pageIndex=n,this.getOrders()}resetSearch(){this.searchTerm="",this.pageIndex=0,this.getOrders()}getOrders(){this.adminService.getAllOrders(this.pageIndex,this.pageSize,this.searchTerm).subscribe(n=>{this.orders=n.orders,this.totalCount=n.totalCount},n=>{this.errorMessage=n.message,console.error(n)})}}function Mt(o,n){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currency"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA()()),2&o){const e=n.$implicit;t.xp6(2),t.Oqu(e.productName),t.xp6(2),t.Oqu(t.lcZ(5,3,e.price)),t.xp6(3),t.Oqu(e.quantity)}}function vt(o,n){if(1&o&&(t.TgZ(0,"div",1)(1,"h2"),t._uU(2,"Order Details"),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"p")(6,"strong"),t._uU(7,"Order ID:"),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"p")(10,"strong"),t._uU(11,"Buyer Email:"),t.qZA(),t._uU(12),t.qZA(),t.TgZ(13,"p")(14,"strong"),t._uU(15,"Order Date:"),t.qZA(),t._uU(16),t.ALo(17,"date"),t.qZA(),t.TgZ(18,"p")(19,"strong"),t._uU(20,"Shipping Address:"),t.qZA()(),t.TgZ(21,"ul")(22,"li")(23,"strong"),t._uU(24,"First Name:"),t.qZA(),t._uU(25),t.qZA(),t.TgZ(26,"li")(27,"strong"),t._uU(28,"Last Name:"),t.qZA(),t._uU(29),t.qZA(),t.TgZ(30,"li")(31,"strong"),t._uU(32,"Street:"),t.qZA(),t._uU(33),t.qZA(),t.TgZ(34,"li")(35,"strong"),t._uU(36,"City:"),t.qZA(),t._uU(37),t.qZA(),t.TgZ(38,"li")(39,"strong"),t._uU(40,"State:"),t.qZA(),t._uU(41),t.qZA(),t.TgZ(42,"li")(43,"strong"),t._uU(44,"Zip Code:"),t.qZA(),t._uU(45),t.qZA()(),t.TgZ(46,"p")(47,"strong"),t._uU(48,"Delivery Method:"),t.qZA(),t._uU(49),t.qZA(),t.TgZ(50,"p")(51,"strong"),t._uU(52,"Shipping Price:"),t.qZA(),t._uU(53),t.ALo(54,"currency"),t.qZA()(),t.TgZ(55,"div",3)(56,"h3"),t._uU(57,"Order Items:"),t.qZA(),t.TgZ(58,"table",4)(59,"thead")(60,"tr")(61,"th"),t._uU(62,"Product Name"),t.qZA(),t.TgZ(63,"th"),t._uU(64,"Price"),t.qZA(),t.TgZ(65,"th"),t._uU(66,"Quantity"),t.qZA()()(),t.TgZ(67,"tbody"),t.YNc(68,Mt,8,5,"tr",5),t.qZA()(),t.TgZ(69,"p")(70,"strong"),t._uU(71,"Subtotal:"),t.qZA(),t._uU(72),t.ALo(73,"currency"),t.qZA(),t.TgZ(74,"p")(75,"strong"),t._uU(76,"Payment Method:"),t.qZA(),t._uU(77),t.qZA(),t.TgZ(78,"p")(79,"strong"),t._uU(80,"Total:"),t.qZA(),t._uU(81),t.ALo(82,"currency"),t.qZA(),t.TgZ(83,"p")(84,"strong"),t._uU(85,"Status:"),t.qZA(),t._uU(86),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(8),t.hij(" ",e.order.id,""),t.xp6(4),t.hij(" ",e.order.buyerEmail,""),t.xp6(4),t.hij(" ",t.lcZ(17,16,e.order.orderDate),""),t.xp6(9),t.hij(" ",e.order.shipToAddress.firstName,""),t.xp6(4),t.hij(" ",e.order.shipToAddress.lastName,""),t.xp6(4),t.hij(" ",e.order.shipToAddress.street,""),t.xp6(4),t.hij(" ",e.order.shipToAddress.city,""),t.xp6(4),t.hij(" ",e.order.shipToAddress.state,""),t.xp6(4),t.hij(" ",e.order.shipToAddress.zipCode,""),t.xp6(4),t.hij(" ",e.order.deliveryMethod,""),t.xp6(4),t.hij(" ",t.lcZ(54,18,e.order.shippingPrice),""),t.xp6(15),t.Q6J("ngForOf",e.order.orderItems),t.xp6(4),t.hij(" ",t.lcZ(73,20,e.order.subtotal),""),t.xp6(5),t.hij(" ",e.order.paymentMethod,""),t.xp6(4),t.hij(" ",t.lcZ(82,22,e.order.total),""),t.xp6(5),t.hij(" ",e.order.status,"")}}y.\u0275fac=function(n){return new(n||y)(t.Y36(p))},y.\u0275cmp=t.Xpm({type:y,selectors:[["app-all-orders"]],decls:36,vars:5,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-6"],[1,"input-group","mb-3"],["type","text","placeholder","Search by display name",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"col-12"],[1,"table-responsive"],[1,"table","table-striped"],[1,"d-none","d-sm-table-cell"],[4,"ngFor","ngForOf"],[3,"pageIndex","pageSize","totalCount","pageChanged"],[1,"material-icons",2,"cursor","pointer",3,"routerLink"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),t.NdJ("ngModelChange",function(r){return e.searchTerm=r}),t.qZA(),t.TgZ(5,"button",5),t.NdJ("click",function(){return e.searchOrders()}),t._uU(6,"Search"),t.qZA(),t.TgZ(7,"button",5),t.NdJ("click",function(){return e.resetSearch()}),t._uU(8,"Reset"),t.qZA()()(),t.TgZ(9,"div",6)(10,"div",7)(11,"table",8)(12,"thead")(13,"tr")(14,"th",9),t._uU(15,"ID"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Buyer Email"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Order Date"),t.qZA(),t.TgZ(20,"th",9),t._uU(21,"Delivery Method"),t.qZA(),t.TgZ(22,"th",9),t._uU(23,"Subtotal"),t.qZA(),t.TgZ(24,"th",9),t._uU(25,"Shipping Price"),t.qZA(),t.TgZ(26,"th",9),t._uU(27,"Total"),t.qZA(),t.TgZ(28,"th",9),t._uU(29,"Payment Method"),t.qZA(),t.TgZ(30,"th"),t._uU(31,"Status"),t.qZA()()(),t.TgZ(32,"tbody"),t.YNc(33,xt,26,27,"tr",10),t.qZA()()()(),t.TgZ(34,"div",6)(35,"app-pagination",11),t.NdJ("pageChanged",function(r){return e.onPageChanged(r)}),t.qZA()()()()),2&n&&(t.xp6(4),t.Q6J("ngModel",e.searchTerm),t.xp6(29),t.Q6J("ngForOf",e.orders),t.xp6(2),t.Q6J("pageIndex",e.pageIndex)("pageSize",e.pageSize)("totalCount",e.totalCount))},dependencies:[s.sg,c.Fj,c.JJ,c.On,g.rH,u,s.H9,s.uU]});class T{constructor(n,e){this.route=n,this.adminService=e}ngOnInit(){this.buyerEmail=this.route.snapshot.paramMap.get("email"),this.getUserDetails()}getUserDetails(){this.adminService.getUserOrderByEmail(this.buyerEmail).subscribe(n=>{this.order=n,console.log(this.order)},n=>{console.error(n)})}}T.\u0275fac=function(n){return new(n||T)(t.Y36(g.gz),t.Y36(p))},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-all-order-details"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"]],template:function(n,e){1&n&&t.YNc(0,vt,87,24,"div",0),2&n&&t.Q6J("ngIf",e.order)},dependencies:[s.sg,s.O5,s.H9,s.uU]});const Ot=[{path:"",component:C,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:Z,data:{breadcrumb:{skip:!1,label:"\u0644\u0648\u062d\u0629 \u0627\u0644\u0627\u062d\u0635\u0627\u0626\u0627\u062a"}}},{path:"products-list",component:P,data:{breadcrumb:{skip:!1,label:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}}},{path:"users-list",component:f,data:{breadcrumb:{skip:!1,label:" \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0648\u0646"}}},{path:"create",component:_,data:{breadcrumb:"Create"}},{path:"products-list/edit/:id",component:_,data:{breadcrumb:"Edit"}},{path:"users-list/edit/:id",component:v},{path:"users-list/details/:id",component:O},{path:"all-orders",component:y,data:{breadcrumb:{skip:!1,label:" \u0627\u0644\u0637\u0644\u0628\u0627\u062a"}}},{path:"all-orders/details/:email",component:T}]}];class m{}m.\u0275fac=function(n){return new(n||m)},m.\u0275mod=t.oAB({type:m}),m.\u0275inj=t.cJS({imports:[g.Bz.forChild(Ot),g.Bz]});class St{constructor(){this.change=new t.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(n){return null==n.id&&(n.id=this.DEFAULT_ID),this.instances[n.id]?this.updateInstance(n):(this.instances[n.id]=n,!0)}updateInstance(n){let e=!1;for(let i in this.instances[n.id])n[i]!==this.instances[n.id][i]&&(this.instances[n.id][i]=n[i],e=!0);return e}getCurrentPage(n){return this.instances[n]?this.instances[n].currentPage:1}setCurrentPage(n,e){if(this.instances[n]){let i=this.instances[n];e<=Math.ceil(i.totalItems/i.itemsPerPage)&&1<=e&&(this.instances[n].currentPage=e,this.change.emit(n))}}setTotalItems(n,e){this.instances[n]&&0<=e&&(this.instances[n].totalItems=e,this.change.emit(n))}setItemsPerPage(n,e){this.instances[n]&&(this.instances[n].itemsPerPage=e,this.change.emit(n))}getInstance(n=this.DEFAULT_ID){return this.instances[n]?this.clone(this.instances[n]):{}}clone(n){var e={};for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i]);return e}}let Ft=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[St],imports:[[s.ez]]}),o})();class h{}h.\u0275fac=function(n){return new(n||h)},h.\u0275mod=t.oAB({type:h}),h.\u0275inj=t.cJS({imports:[s.ez,z.m,m,Ft]})}}]);